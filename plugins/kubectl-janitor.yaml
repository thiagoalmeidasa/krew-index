apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: kubectl-janitor
spec:
  version: v0.2.8
  platforms:
    - bin: kubectl-janitor.exe
      uri: https://github.com/thiagoalmeidasa/kubectl-janitor/releases/download/v0.2.8/kubectl-janitor_v0.2.8_windows_arm64.tar.gz
      sha256: fe227266fcb73c750905476dadfa99151e624ba6e3860ecaa4ab2241fad1ff6e
      selector:
        matchLabels:
          os: windows
          arch: arm64
    - bin: kubectl-janitor.exe
      uri: https://github.com/thiagoalmeidasa/kubectl-janitor/releases/download/v0.2.8/kubectl-janitor_v0.2.8_windows_amd64.tar.gz
      sha256: 4142f6c3c1cf4ba0c9ae31489d21fc1f944cab2c2ca8786f8c650759867e0db9
      selector:
        matchLabels:
          os: windows
          arch: amd64
    - bin: kubectl-janitor
      uri: https://github.com/thiagoalmeidasa/kubectl-janitor/releases/download/v0.2.8/kubectl-janitor_v0.2.8_linux_arm64.tar.gz
      sha256: f891ae2c9b608df4c093a9d6224c7ca5174eb305074b8c2eb880093a75597ca3
      selector:
        matchLabels:
          os: linux
          arch: arm64
    - bin: kubectl-janitor
      uri: https://github.com/thiagoalmeidasa/kubectl-janitor/releases/download/v0.2.8/kubectl-janitor_v0.2.8_linux_amd64.tar.gz
      sha256: 9c33408ef515d3143d4860e8c3644e05b3028d3daf7da495982cb29c22bbf0cd
      selector:
        matchLabels:
          os: linux
          arch: amd64
    - bin: kubectl-janitor
      uri: https://github.com/thiagoalmeidasa/kubectl-janitor/releases/download/v0.2.8/kubectl-janitor_v0.2.8_darwin_arm64.tar.gz
      sha256: d57a21b72e6725e3ccb9339df0807c5f0eef40a1b51a36bf3ea74dea50edb992
      selector:
        matchLabels:
          os: darwin
          arch: arm64
    - bin: kubectl-janitor
      uri: https://github.com/thiagoalmeidasa/kubectl-janitor/releases/download/v0.2.8/kubectl-janitor_v0.2.8_darwin_amd64.tar.gz
      sha256: fa60478d337aa3cbe02676962e38e2964f55ff38877534f9c61e219d32b18326
      selector:
        matchLabels:
          os: darwin
          arch: amd64
  shortDescription: Lists objects in a problematic state
  homepage: https://github.com/thiagoalmeidasa/kubectl-janitor
  caveats: Lists objects in a problematic state
  description: |
    Troubleshooting Kubernetes clusters sometimes requires
    a combination of kubectl commands and other command-line tools
    such as jq to do correlations around the issues that the various
    objects might have. Moreover, sometimes the supported options
    of the --field-selector flag might be limited as well.
    This plugin assists in finding Kubernetes objects in a problematic state.
    It currently supports Job, Pod, PersistentVolume,
    and PersistentVolumeClaim resources.
