apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: kubectl-janitor
spec:
  version: v0.2.7
  platforms:
    - bin: kubectl-janitor.exe
      uri: https://github.com/thiagoalmeidasa/kubectl-janitor/releases/download/v0.2.7/kubectl-janitor_v0.2.7_windows_arm64.tar.gz
      sha256: 9ad51e1625a5bcfe5ddc9022926875de6cd58fe35dbae6ed37e927ca38818f63
      selector:
        matchLabels:
          os: windows
          arch: arm64
    - bin: kubectl-janitor.exe
      uri: https://github.com/thiagoalmeidasa/kubectl-janitor/releases/download/v0.2.7/kubectl-janitor_v0.2.7_windows_amd64.tar.gz
      sha256: 999e838a247bc5d7cb868b8d8493c699287b4f590c7903209ab68254fc627ed5
      selector:
        matchLabels:
          os: windows
          arch: amd64
    - bin: kubectl-janitor
      uri: https://github.com/thiagoalmeidasa/kubectl-janitor/releases/download/v0.2.7/kubectl-janitor_v0.2.7_linux_arm64.tar.gz
      sha256: a5e2a46a5fa46c6434b3d3d6b96f07319f5814b4caa40b05a903364b7ec342d0
      selector:
        matchLabels:
          os: linux
          arch: arm64
    - bin: kubectl-janitor
      uri: https://github.com/thiagoalmeidasa/kubectl-janitor/releases/download/v0.2.7/kubectl-janitor_v0.2.7_linux_amd64.tar.gz
      sha256: 5cafe88b1e584980ad796f42a26024397e236c5c6f30b57c056d3e443b9759b5
      selector:
        matchLabels:
          os: linux
          arch: amd64
    - bin: kubectl-janitor
      uri: https://github.com/thiagoalmeidasa/kubectl-janitor/releases/download/v0.2.7/kubectl-janitor_v0.2.7_darwin_arm64.tar.gz
      sha256: 6b363f91527c303e92321eb0ef28e9b3089fa4166651f1d85a6936e6f4857504
      selector:
        matchLabels:
          os: darwin
          arch: arm64
    - bin: kubectl-janitor
      uri: https://github.com/thiagoalmeidasa/kubectl-janitor/releases/download/v0.2.7/kubectl-janitor_v0.2.7_darwin_amd64.tar.gz
      sha256: b103b839853c8421fb88dd99005c22e149d98c85254c4362fff074e88b20f69d
      selector:
        matchLabels:
          os: darwin
          arch: amd64
  shortDescription: Lists objects in a problematic state
  homepage: https://github.com/thiagoalmeidasa/kubectl-janitor
  caveats: Lists objects in a problematic state
  description: |
    Troubleshooting Kubernetes clusters sometimes requires
    a combination of kubectl commands and other command-line tools
    such as jq to do correlations around the issues that the various
    objects might have. Moreover, sometimes the supported options
    of the --field-selector flag might be limited as well.
    This plugin assists in finding Kubernetes objects in a problematic state.
    It currently supports Job, Pod, PersistentVolume,
    and PersistentVolumeClaim resources.
