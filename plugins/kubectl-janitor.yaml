apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: kubectl-janitor
spec:
  version: v0.2.6
  platforms:
    - bin: kubectl-janitor.exe
      uri: https://github.com/thiagoalmeidasa/kubectl-janitor/releases/download/v0.2.6/kubectl-janitor_v0.2.6_windows_arm64.tar.gz
      sha256: 424190ab78d5687e1cffd7579ff373537fe65a620c7ae5975778272828fcbd10
      selector:
        matchLabels:
          os: windows
          arch: arm64
    - bin: kubectl-janitor.exe
      uri: https://github.com/thiagoalmeidasa/kubectl-janitor/releases/download/v0.2.6/kubectl-janitor_v0.2.6_windows_amd64.tar.gz
      sha256: 945d3da7238f4dd90e10d5a5fe461f1cfde98eff2ccbe149237ff27c8e7efd0b
      selector:
        matchLabels:
          os: windows
          arch: amd64
    - bin: kubectl-janitor
      uri: https://github.com/thiagoalmeidasa/kubectl-janitor/releases/download/v0.2.6/kubectl-janitor_v0.2.6_linux_arm64.tar.gz
      sha256: b97c39012b33359ea8593bc6b98a2ed95f8234f7112c3f05c408bf17db3986b0
      selector:
        matchLabels:
          os: linux
          arch: arm64
    - bin: kubectl-janitor
      uri: https://github.com/thiagoalmeidasa/kubectl-janitor/releases/download/v0.2.6/kubectl-janitor_v0.2.6_linux_amd64.tar.gz
      sha256: acc500a8ebdef736d7d5d731c904beb5a17e78e9b5f99d91c6391ddfb69b6590
      selector:
        matchLabels:
          os: linux
          arch: amd64
    - bin: kubectl-janitor
      uri: https://github.com/thiagoalmeidasa/kubectl-janitor/releases/download/v0.2.6/kubectl-janitor_v0.2.6_darwin_arm64.tar.gz
      sha256: 5ca018e1152e452ca5ec39d1305b8d639aadbccbd2cb6177e202e8be8a840900
      selector:
        matchLabels:
          os: darwin
          arch: arm64
    - bin: kubectl-janitor
      uri: https://github.com/thiagoalmeidasa/kubectl-janitor/releases/download/v0.2.6/kubectl-janitor_v0.2.6_darwin_amd64.tar.gz
      sha256: 3c2c68f50582528d4a037451a94a38d59b61da5da11d67d55beeaa20db49ae02
      selector:
        matchLabels:
          os: darwin
          arch: amd64
  shortDescription: Lists objects in a problematic state
  homepage: https://github.com/thiagoalmeidasa/kubectl-janitor
  caveats: Lists objects in a problematic state
  description: |
    Troubleshooting Kubernetes clusters sometimes requires
    a combination of kubectl commands and other command-line tools
    such as jq to do correlations around the issues that the various
    objects might have. Moreover, sometimes the supported options
    of the --field-selector flag might be limited as well.
    This plugin assists in finding Kubernetes objects in a problematic state.
    It currently supports Job, Pod, PersistentVolume,
    and PersistentVolumeClaim resources.
